var project={},objs=new obje,arrColor=["#F7931A","#3EC8C8","#154BE9","#51B0DD","#52c2e2","#52c2e2"],arrBGColor=["#FBE9D3","#A6E4E3","#9AB1F2","#AED9EC","#d1eef8","#d1eef8"],arrOPTAColor=["#FBF3E8","#C8ECE9","#D8DEF2","#D1E7EF","#D1E7EF","#D1E7EF"];project.init=function(){this.getdata(),this.send(),this.ggs(),this.getCOin(),this.getImg=["https://files.coinmarketcap.com/generated/sparklines/2306.png","https://files.coinmarketcap.com/generated/sparklines/2027.png","https://files.coinmarketcap.com/generated/sparklines/2243.png","https://files.coinmarketcap.com/generated/sparklines/2034.png","https://files.coinmarketcap.com/generated/sparklines/2263.png","https://files.coinmarketcap.com/generated/sparklines/1954.png","https://files.coinmarketcap.com/generated/sparklines/2297.png","https://files.coinmarketcap.com/generated/sparklines/2273.png"]},project.roll=function(){var e=$(".gulis").html();$(".gulis").append(e);var t=1;setInterval(function(){$(".gulis").animate({top:-36*t+"px"},500),3==t?($(".gulis").css("top",0),$(".gulis").animate({top:"0px"},1),t=1):t++},3e3)},project.getCOin=function(){$.ajax({url:"/Home/index/getCoinSort",type:"get",success:function(e){var t="";cor=null;for(var a=0;a<e.data.length;a++)cor=e.data[a].changePercent>0?"#00a63f":"red",t+='<ul class="u24"><li><div style="display:inline-block;width:40px;text-align:left"><img src="'+e.data[a].logo+'"  style="width:28px"></div><div style="display:inline-block;width:60px;text-align:left">'+e.data[a].MarketName+"</div></li><li>"+e.data[a].Last+"</li><li>"+e.data[a].High+"</li><li>"+e.data[a].Low+"</li><li>"+parseFloat(e.data[a].Volume)+'</li><li style="color:'+cor+'">'+e.data[a].changePercent+'%</li><li><div id="ec'+a+'"><img src="'+project.getImg[a]+'"></div></li><li>'+(a+1)+"</li></ul>";$(".uls").append(t)}})},project.ggs=function(){$.ajax({url:"/Home/art/getNotice",type:"get",data:{offset:3},success:function(e){for(var t=0;t<e.data.length;t++){$(".ggs").eq(t).html(e.data[t].title);var a=102==e.data[t].position_id?0:1;$(".ggs").eq(t).attr("data-src","/home/single/details.html?status=1&uid="+e.data[t].article_id+"&st="+a)}project.roll()}})},project.getdata=function(){$(".swiper-slide span").css("width",$(window).width()+"px");new Swiper("#lb1",{pagination:{el:"#lb1 .swiper-pagination",clickable:!0},loop:!0,slidesPerView:1,autoplay:!0});$.ajax({url:"/Home/index/website",type:"post",dataType:"json",success:function(e){for(var t=[],a=[],i=0;i<e.data.length;i++){var s='<li> <img src="'+e.data[i].currency_logo+'"><p>'+e.data[i].currency_mark+'</p><div class="pricete">   <span>'+e.data[i].latest_price+' BTC </span>   <span class="jggreen">'+parseFloat(e.data[i].up_or_down)+'%</span>  </div><div class="echw"><div  id="echw'+i+'"></div> </li>';$("#swipreList>div").eq(0).addClass("selectLi"),$("#iconlists").append(s);for(var r=[],l=[],o=0;o<e.data[i].every_hour_trades.length;o++)r.push(e.data[i].every_hour_trades[o].hour),l.push(e.data[i].every_hour_trades[o].price);if(t.length<24)for(var n=r.length;n<24;n++)r.unshift(0),l.unshift(0);t.push(r),a.push(l)}$("#iconlists>li").eq(0).addClass("selectLi"),project.ech(t,a),$(".echs>div").eq(1).css("display","none"),$(".echs>div").eq(2).css("display","none")}})},project.send=function(){$("#sendEmail").on("click",function(){if($("#sendEmail").attr("disabled",!0),!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test($("#email").val()))return alert($("#mess").attr("data-error")),!1;$.ajax({url:"/Home/Reg/sendEmail",type:"post",data:{email:$("#email").val()},success:function(e){1==e.status?alert(e.info):($("#sendEmail").attr("disabled",!1),alert(e.info))}})})},project.ech=function(e,t){for(var a=0;a<e.length;a++){var i=a,s=echarts.init(document.getElementById("echw"+i));$("#echw"+i).css("width",$("#echw"+i).width());var r={color:[arrColor[i]],calculable:!1,grid:{left:"0%",right:"0%",bottom:"0%",containLabel:!1},tooltip:{trigger:"axis",axisPointer:{type:"line"},formatter:function(e){return e[0].data}},xAxis:{show:!1,type:"category",boundaryGap:!1,axisLine:{show:!1,onZero:!1},data:t[i]},yAxis:{show:!1,type:"value",axisLine:{show:!1,onZero:!1}},series:[{name:"成交",type:"line",smooth:!0,symbol:"pin",symbolOffset:[0,"2px"],itemStyle:{normal:{areaStyle:{type:"default"}}},symbolSize:3,areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:arrBGColor[i]},{offset:1,color:arrOPTAColor[i]}])}},data:e[i]}]};s.setOption(r),s.on("click",function(e){})}},project.init();